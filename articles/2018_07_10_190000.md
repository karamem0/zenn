---
title: "Microsoft Graph ã§ãƒ­ã‚°ã‚¤ãƒ³ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒçµ„ç¹”ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ Microsoft ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã©ã†ã‹ã‚’è­˜åˆ¥ã™ã‚‹"
emoji: "ğŸ’»"
type: "tech"
topics: ["microsoftgraph"]
published: true
---

:::message
ã“ã®è¨˜äº‹ã¯ã¯ã¦ãªãƒ–ãƒ­ã‚°ã« 2018/7/10 ã«æŠ•ç¨¿ã—ãŸã‚‚ã®ã®è»¢è¼‰ã§ã™ã€‚
:::

# /me ã§åˆ¤æ–­ã™ã‚‹

ã¨ã‚Šã‚ãˆãšæ€ã„ã¤ã `/me` ã§ã¯ã‚ã¾ã‚Šé•ã„ãŒã‚ã‹ã‚Šã¾ã›ã‚“ã€‚

## çµ„ç¹”ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å ´åˆ

```json
{
    "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users/$entity",
    "id": "00000000-0000-0000-0000-000000000000",
    "businessPhones": [],
    "displayName": "Example User",
    "givenName": "",
    "jobTitle": null,
    "mail": "example@example.onmicrosoft.com",
    "mobilePhone": null,
    "officeLocation": null,
    "preferredLanguage": "ja-JP",
    "surname": "",
    "userPrincipalName": "user@example.onmicrosoft.com"
}
```

## Microsoft ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å ´åˆ

```json
{
    "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#users/$entity",
    "displayName": "Example User",
    "surname": "",
    "givenName": "",
    "id": "0000000000000000",
    "userPrincipalName": "example@outlook.com",
    "businessPhones": [],
    "jobTitle": null,
    "mail": null,
    "mobilePhone": null,
    "officeLocation": null,
    "preferredLanguage": null
}
```

`userPrincipalName` ã®ãƒ‰ãƒ¡ã‚¤ãƒ³åã§åˆ¤åˆ¥ã™ã‚‹ã‹ã€`id` ãŒ CID (ULongï¼Ÿ) ã‹ GUID ã‹ã§åˆ¤æ–­ã™ã‚‹ã‹ã€ã©ã¡ã‚‰ã«ã—ã¦ã‚‚ã‚ã¾ã‚Šç¾ã—ããªã„æ„Ÿã˜ãŒã—ã¾ã™ã€‚

# /organization ã§åˆ¤æ–­ã™ã‚‹

`/organization` ã¯ Microsoft ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å ´åˆã¯ç©ºã®é…åˆ—ã‚’è¿”ã—ã¾ã™ã€‚ã“ã£ã¡ã®ã»ã†ãŒã‚ˆã•ãã†ã€‚

## çµ„ç¹”ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å ´åˆ

```json
{
    "@odata.context": "https://graph.microsoft.com/v1.0/$metadata#organization",
    "value": [
        {
            "id": "00000000-0000-0000-0000-000000000000",
            "deletedDateTime": null,
            "businessPhones": [],
            "city": null,
            "country": null,
            "countryLetterCode": null,
            "displayName": "example",
            "marketingNotificationEmails": [],
            "onPremisesLastSyncDateTime": null,
            "onPremisesSyncEnabled": null,
            "postalCode": null,
            "preferredLanguage": null,
            "privacyProfile": null,
            "securityComplianceNotificationMails": [],
            "securityComplianceNotificationPhones": [],
            "state": null,
            "street": null,
            "technicalNotificationMails": [],
            "assignedPlans": [],
            "provisionedPlans": [],
            "verifiedDomains": [
                {
                    "capabilities": "Email, OfficeCommunicationsOnline",
                    "isDefault": false,
                    "isInitial": true,
                    "name": "example.onmicrosoft.com",
                    "type": "Managed"
                }
            ]
        }
    ]
}
```

## Microsoft ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®å ´åˆ

```json
{
    "@odata.context": "https://graph.microsoft.com/beta/$metadata#organization",
    "value": []
}
```

# ãã‚‚ãã‚‚åˆ¤æ–­ã™ã‚‹å¿…è¦ãªã‚“ã¦ãªã„ã‚“ã ã‚ˆ

ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ API ã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ãŒè¿”ã‚Šã¾ã™ã€‚ä¾‹ãˆã° Microsoft ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ `/me/manager` ã‚’å®Ÿè¡Œã—ãŸå ´åˆã¯ 404 ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

```json
{
    "error": {
        "code": "",
        "message": "No HTTP resource was found that matches the request URI 'https://outlook.office365.com:444/profile/v1.0/users('CID:0000000000000000')/profile/manager?api-version=AGSV1-internal'.",
        "innerError": {
            "request-id": "00000000-0000-0000-0000-000000000000",
            "date": "2018-07-10T00:00:00"
        }
    }
}
```

å‘¼ã‚“ã§ã¿ã¦ã‚¨ãƒ©ãƒ¼ã ã£ãŸã‚‰è«¦ã‚ã‚‹ã€ã¨ã„ã†ã®ã‚‚è€ƒãˆæ–¹ã¨ã—ã¦ã¯ã‚¢ãƒªã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
